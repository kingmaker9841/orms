{"version":3,"sources":["../node_modules/reactstrap/es/Table.js","views/Roles/api.js","views/Roles/Roles.js"],"names":["propTypes","className","PropTypes","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","tagPropType","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","createElement","_extends","ref","responsiveClassName","defaultProps","url","getRoles","callback","server","get","then","json","data","catch","err","getRole","id","editRole","role","put","addRole","post","getRoleTypes","deleteRole","delete","Roles","state","roles","handleDelete","window","confirm","location","reload","setState","p","this","permissions","VIEW_EDIT","VIEW_EDIT_DELETE","isAdmin","to","xs","lg","map","idx","key","name","Date","createdAt","toDateString","updatedAt","color","onClick","Component"],"mappings":"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","file":"static/js/41.bb39854a.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import { server } from '../../config/server';\r\n\r\nconst url = '/roles';\r\n\r\nfunction getRoles(callback) {\r\n    server.get(\r\n        `${url}`,\r\n    ).then(function (json) {\r\n        callback(null, json.data);\r\n    }).catch(function (err) {\r\n        callback(err);\r\n    });\r\n}\r\n\r\nfunction getRole(id, callback) {\r\n    server.get(\r\n        `${url}/${id}`,\r\n    ).then(function (json) {\r\n        callback(null, json.data);\r\n    }).catch(function (err) {\r\n        callback(err);\r\n    });\r\n}\r\n\r\nfunction editRole(role, callback) {\r\n    server.put(\r\n        `${url}/${role.id}`,\r\n        role\r\n    ).then(function (json) {\r\n        callback(null, json.data);\r\n    }).catch(function (err) {\r\n        callback(err);\r\n    });\r\n}\r\n\r\nfunction addRole(role, callback) {\r\n    server.post(\r\n        `${url}`,\r\n        role\r\n    ).then(function (json) {\r\n        callback(null, json.data);\r\n    }).catch(function (err) {\r\n        callback(err);\r\n    });\r\n}\r\n\r\nfunction getRoleTypes(callback) {\r\n    server.get(\r\n        `${url}/types`,\r\n    ).then(function (json) {\r\n        callback(null, json.data);\r\n    }).catch(function (err) {\r\n        callback(err);\r\n    });\r\n}\r\n\r\nfunction deleteRole(id, callback) {\r\n    server.delete(\r\n        `${url}/${id}`,\r\n    ).then(function (json) {\r\n        callback(null, json.data);\r\n    }).catch(function (err) {\r\n        callback(err);\r\n    });\r\n}\r\n\r\nexport {\r\n    getRoles,\r\n    getRoleTypes,\r\n    getRole,\r\n    editRole,\r\n    addRole,\r\n    deleteRole,\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, CardBody, Col, Row, Table, Button } from 'reactstrap';\r\nimport { getRoles, deleteRole } from './api';\r\nimport { VIEW_EDIT, VIEW_EDIT_DELETE } from './util';\r\n\r\nclass Roles extends Component {\r\n\r\n  state = {\r\n    roles: [],\r\n  }\r\n\r\n  componentDidMount() {\r\n    getRoles((err, roles) => {\r\n      if (err) return;\r\n      this.setState({\r\n        roles: roles\r\n      });\r\n    });\r\n  }\r\n\r\n  handleDelete = id => {\r\n    if (window.confirm(\"Do you want to delete the Roles? The action is irreversible!\")) {\r\n      deleteRole(id, (err, data) => {\r\n        if (err) return;\r\n        window.location.reload();\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const p = this.props.permissions ? this.props.permissions : {};\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        {p.role === VIEW_EDIT || p.role === VIEW_EDIT_DELETE || p.isAdmin ?\r\n          <Link className=\"btn btn-success btn-sm mb-2\" to=\"/roles/add\">Add Role</Link>\r\n          : null}\r\n        <Row>\r\n          <Col xs=\"12\" lg=\"12\">\r\n            <Card>\r\n              <CardBody>\r\n                <Table responsive>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Name</th>\r\n                      <th>Date registered</th>\r\n                      <th>Date modified</th>\r\n                      <th></th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {this.state.roles.map((role, idx) =>\r\n                      <tr key={idx}>\r\n                        <td>{role.name}</td>\r\n                        <td>{new Date(role.createdAt).toDateString()}</td>\r\n                        <td>{new Date(role.updatedAt).toDateString()}</td>\r\n                        <th>\r\n                          {p.role === VIEW_EDIT || p.role === VIEW_EDIT_DELETE || p.isAdmin ?\r\n                            <Link className=\"btn btn-info btn-sm text-white mr-2\" to={\"/roles/\" + role.id}><i className=\"fa fa-edit\" /></Link>\r\n                            : null}\r\n                          {p.role === VIEW_EDIT_DELETE || p.isAdmin ?\r\n                            <Button size=\"sm\" color=\"danger\" onClick={() => this.handleDelete(role.id)}>\r\n                              <i className=\"fa fa-trash\" />\r\n                            </Button>\r\n                            : null}\r\n                        </th>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div >\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Roles;\r\n"],"sourceRoot":""}