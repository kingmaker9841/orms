(this.webpackJsonporr=this.webpackJsonporr||[]).push([[39],{547:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(e){for(var t={},a=e.target,n=0;n<a.length;n++){var r=a.elements[n],c=r.name,l=r.value,s=r.type;if(l)switch(s){case"checkbox":t[c]=r.checked;break;default:t[c]=l}}return t},r=function(e){e&&Object.keys(e).forEach((function(t){var a=e[t],n=document.getElementById(t);n&&(n.checked=a,n.value=a)}))}},551:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(54),r=function(e){n.server.get("/all").then((function(t){e(null,t.data)})).catch((function(t){e(t)}))}},583:function(e,t,a){"use strict";a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(54),r="/users";function c(e){n.server.get("".concat(r)).then((function(t){e(null,t.data)})).catch((function(t){e(t)}))}function l(e){n.server.get("".concat(r,"/ldap")).then((function(t){e(null,t.data)})).catch((function(t){e(t)}))}function s(e,t){n.server.get("".concat(r,"/").concat(e)).then((function(e){t(null,e.data)})).catch((function(e){t(e)}))}function u(e,t){n.server.post("".concat(r),JSON.stringify(e)).then((function(e){t(null,e.data)})).catch((function(e){t(e)}))}function i(e,t){n.server.put("".concat(r,"/").concat(e.id),JSON.stringify(e)).then((function(e){t(null,e.data)})).catch((function(e){t(e)}))}function o(e,t){n.server.delete("".concat(r,"/").concat(e)).then((function(e){t(null,e.data)})).catch((function(e){t(e)}))}},886:function(e,t,a){"use strict";a.r(t);var n=a(544),r=a(85),c=a(86),l=a(88),s=a(87),u=a(89),i=a(2),o=a.n(i),m=a(534),h=a(535),d=a(539),f=a(537),p=a(549),E=a(538),v=a(569),b=a(560),N=a(542),y=a(552),O=a(532),g=a(654),x=a(551),S=a(547),j=a(583),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var c=arguments.length,u=new Array(c),i=0;i<c;i++)u[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(u)))).state={users:[],user:{},roles:[],selectedBranch:null,branches:[],departments:[],selectedOption:{},selectedOptions:[]},a.handleBranchChange=function(e){e.value&&a.setState({selectedBranch:e})},a.handleUserChange=function(e){var t=e.value;if(t){a.setState({selectedOption:e});var n=a.state.users.filter((function(e){return e.distinguishedName===t?1:0}))[0];a.setState({user:n||{}})}else{var r=Object.keys(a.state.user),c={};r.forEach((function(e){return c[e]=""})),a.setState({user:c})}},a.handleSubmit=function(e){e.preventDefault();var t=Object(S.a)(e);if(t.branchId){var r=Object(n.a)({},a.state.user,{},t);Object(j.a)(r,(function(e,t){e||t&&a.props.history.push("/users")}))}else window.alert("Please select a branch")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,Object(j.d)((function(t,a){if(!t){var n=a.map((function(e){return{value:e.distinguishedName,label:e.displayName}}));e.setState({users:a,selectedOptions:n})}})),Object(x.a)((function(t,a){if(!t){var n=a.branches.map((function(e){return{value:e.id,label:e.name}}));e.setState({roles:a.roles,branches:n,departments:a.departments})}}))}},{key:"render",value:function(){var e=this.state,t=e.selectedOptions,a=e.branches;return o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement(m.a,null,o.a.createElement(h.a,{xl:12},o.a.createElement(d.a,{onSubmit:this.handleSubmit},o.a.createElement(f.a,null,o.a.createElement(p.a,null,o.a.createElement("i",{className:"fa fa-user"})," AD Users"),o.a.createElement(E.a,{className:"table-responsive"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"user"},"User"),o.a.createElement(g.a,{value:this.state.selectedOption,onChange:this.handleUserChange,options:t||[]})),o.a.createElement(v.a,{row:!0,className:"my-0"},o.a.createElement(h.a,{xs:"6"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"email"},"Email"),o.a.createElement(N.a,{type:"text",id:"email",placeholder:"Email",value:this.state.user.userPrincipalName?this.state.user.userPrincipalName:"",readOnly:!0}))),o.a.createElement(h.a,{xs:"6"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"telephoneNumber"},"Phone Number"),o.a.createElement(N.a,{type:"text",id:"telephoneNumber",placeholder:"Phone Number",value:this.state.user.telephoneNumber?this.state.user.telephoneNumber:"",readOnly:!0})))),o.a.createElement(v.a,{row:!0,className:"my-0"},o.a.createElement(h.a,{xs:"4"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"username"},"Username"),o.a.createElement(N.a,{type:"text",id:"username",placeholder:"User Name",value:this.state.user.sAMAccountName?this.state.user.sAMAccountName:"",readOnly:!0}))),o.a.createElement(h.a,{xs:"4"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"firstName"},"First Name"),o.a.createElement(N.a,{type:"text",id:"firstName",placeholder:"First Name",value:this.state.user.givenName?this.state.user.givenName:"",readOnly:!0}))),o.a.createElement(h.a,{xs:"4"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"lastName"},"Last Name"),o.a.createElement(N.a,{type:"text",id:"lastName",placeholder:"Last Name",value:this.state.user.sn?this.state.user.sn:"",readOnly:!0})))),o.a.createElement(v.a,{row:!0,className:"my-0"},o.a.createElement(h.a,{xs:"3"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"roleId"},"Role"),o.a.createElement(N.a,{type:"select",id:"roleId",name:"roleId",required:!0},o.a.createElement("option",{value:""},"Select Role for the user"),this.state.roles.map((function(e,t){return o.a.createElement("option",{key:t,value:e.id},e.name)}))))),o.a.createElement(h.a,{xs:"3"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"branchId"},"Branch"),o.a.createElement(g.a,{id:"branchId",name:"branchId",value:this.state.selectedBranch?this.state.selectedBranch:"",onChange:this.handleBranchChange,options:a||[]}))),o.a.createElement(h.a,{xs:"3"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"departmentId"},"Department"),o.a.createElement(N.a,{type:"select",id:"departmentId",name:"departmentId"},o.a.createElement("option",{value:""},"Select Department"),this.state.departments.map((function(e,t){for(var a="- ",n=e.level;n-- >0;)a+="--\x3e ";return o.a.createElement("option",{key:t,value:e.id},a+e.name)}))))),o.a.createElement(h.a,{xs:"3"},o.a.createElement(v.a,null,o.a.createElement(b.a,{htmlFor:"loginAttempts"},"Login Attempts"),o.a.createElement(N.a,{type:"select",id:"loginAttempts",name:"loginAttempts",required:!0},o.a.createElement("option",{value:3},"3"),o.a.createElement("option",{value:5},"5"),o.a.createElement("option",{value:10},"10")))))),o.a.createElement(y.a,null,o.a.createElement(O.a,{type:"submit",size:"sm",color:"success"},o.a.createElement("i",{className:"fa fa-dot-circle-o"})," Submit")))))))}}]),t}(i.Component);t.default=k}}]);
//# sourceMappingURL=39.bd5e1b7c.chunk.js.map